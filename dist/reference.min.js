"use strict";window.ref={},console.log("loaded"),Object.defineProperties(window.ref,{keys:{enumerable:!1,writable:!0,configurable:!1,value:{}},_find:{enumerable:!1,writable:!1,configurable:!1,value:function(e,r){if("string"==typeof e){var n=window.ref.find((e+" > "+r).trim());if(0===n.length){var t=window.ref.find(e.trim())[0].parentNode.querySelectorAll(r);if(t.length>0)return 1===t.length?t[0]:t}return n}return window.ref.find(e.querySelectorAll(r))}},find:{enumerable:!1,writable:!1,configurable:!1,value:function(e){var r="string"!=typeof e,n=r===!1?document.querySelectorAll(e):e,t=null;if(1===n.length)n[0].hasOwnProperty("isArray")||Object.defineProperties(n[0],{isArray:{enumerable:!1,get:function(){return!1}}}),n[0].hasOwnProperty("find")||Object.defineProperties(n[0],{find:{enumerable:!0,value:function(r){return window.ref._find(e,r)}}}),n[0].hasOwnProperty("forward")||Object.defineProperty(n[0],"forward",{enumerable:!0,writable:!1,configurable:!1,value:function(e,r){if(void 0===BUS)return console.error("The event BUS is required for forward().");var n=function(e){BUS.emit(r,e)};this.addEventListener(e,n)}}),t=n[0];else{var i=Array.prototype.slice.call(n);Object.defineProperties(i,{querySelector:{enumerable:!1,writable:!1,configurable:!1,value:function(r){return"string"==typeof e?document.querySelector((e+" > "+r).trim()):e.querySelector(r.trim())}},querySelectorAll:{enumerable:!1,writable:!1,configurable:!1,value:function(r){return"string"==typeof e?document.querySelectorAll((e+" > "+r).trim()):e.querySelectorAll(r.trim())}},addEventListener:{enumerable:!1,writable:!1,configurable:!1,value:function(e,r){this.forEach(function(n){n.addEventListener(e,r)})}},removeEventListener:{enumerable:!1,writable:!1,configurable:!1,value:function(e,r){this.forEach(function(n){n.removeEventListener(e,r)})}},find:{enumerable:!0,value:function(r){return window.ref._find(e,r)}},isArray:{enumerable:!1,get:function(){return!0}},forward:{enumerable:!0,writable:!1,configurable:!1,value:function(e,r){if(void 0===BUS)return console.error("The event BUS is required for react().");var n=function(e){BUS.emit(r,e)};this.forEach(function(r){r.addEventListener(e,n)})}}}),t=i}return t}},create:{enumerble:!0,writable:!1,configurable:!1,value:function(e,r){if(!r&&"string"!=typeof e)return this.find(e);if("string"!=typeof e&&"number"!=typeof e)throw new Error("Cannot add a non-alphanumeric selector reference.");if(0===e.trim().length)throw new Error("Cannot add a blank selector reference.");if(void 0===r||null===r||0===r.trim().length)throw new Error("Cannot create a null/undefined selector reference.");var n=this.cleanKey(e),t=this;Object.defineProperty(window.ref,n,{enumerable:!1,writable:!0,configurable:!0,value:r}),Object.defineProperty(window.ref,e,{enumerable:!0,get:function(){return t.find(r)},set:function(e){if(void 0===e||null===e||0===e.trim().length)throw new Error("Cannot create a null/undefined selector reference.");window.ref[n]=e}}),this.keys[e]=r,this.keys[this.cleanKey(e)]=r}},remove:{enumerable:!0,writable:!1,configurable:!1,value:function(e){this.key&&(delete this.key,delete this.keys[e]);var r=this.cleanKey(e);this[r]&&(delete this[r],delete this.keys[r])}},cleanKey:{enumerable:!1,writable:!1,configurable:!1,value:function(e){return e.replace(/[^A-Za-z0-9\_\#\$\@\-\+]/gi,"")+e.length}},json:{enumerable:!0,get:function(){var e=this,r={};return Object.keys(this).forEach(function(n){e.hasOwnProperty(n)&&["json","find","remove"].indexOf(n.trim().toLowerCase())<0&&"function"!=typeof e[n]&&(r[n]=e.keys[n])}),r}}});